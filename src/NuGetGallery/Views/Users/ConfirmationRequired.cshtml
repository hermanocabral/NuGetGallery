@model ConfirmationViewModel
@{
    ViewBag.Title = "Confirmation Required";
}

@if (Model.SentEmail)
{
    <h2>Confirmation Email Sent!</h2>
}
else
{
    <h2>Confirm Your Email Address</h2>

    <p class="long note">
        You must confirm your email address before you can @(Model.DoAction).
    </p>

    using (Html.BeginForm())
    {
        <fieldset class="form">
            <legend>Confirm Email Address</legend>
            @Html.AntiForgeryToken()

            @* make it look like a form field even though it isn't exactly *@
            <div class="form-field">
                <p>
                Email will be sent to: <u>@(Model.UnconfirmedEmailAddress)</u>
                @Html.ActionLink("(click here to change)", "Edit", "Users")<br />
                </p>
            </div>

            <input type="submit" value="Send Confirmation Email" title="Send Confirmation Email" style="width: auto;" />

        </fieldset>
    }
}

<h3>Problems with your confirmation email?</h3>

<p>
    Please check your spam folder if you did not receive the confirmation email.
</p>